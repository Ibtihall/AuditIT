/*! For license information please see bundle.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("RoundtableJS",[],t):"object"==typeof exports?exports.RoundtableJS=t():e.RoundtableJS=t()}(self,(()=>(()=>{"use strict";var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};function n(){n=function(){return t};var e,t={},r=Object.prototype,o=r.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function f(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var o=t&&t.prototype instanceof g?t:g,a=Object.create(o.prototype),s=new L(r||[]);return i(a,"_invoke",{value:T(e,n,s)}),a}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var y="suspendedStart",p="suspendedYield",v="executing",b="completed",m={};function g(){}function x(){}function w(){}var S={};f(S,s,(function(){return this}));var O=Object.getPrototypeOf,k=O&&O(O(C([])));k&&k!==r&&o.call(k,s)&&(S=k);var j=w.prototype=g.prototype=Object.create(S);function P(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(r,i,a,s){var c=h(e[r],e,i);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==u(f)&&o.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(f).then((function(e){l.value=e,a(l)}),(function(e){return n("throw",e,a,s)}))}s(c.arg)}var r;i(this,"_invoke",{value:function(e,o){function i(){return new t((function(t,r){n(e,o,t,r)}))}return r=r?r.then(i,i):i()}})}function T(t,n,r){var o=y;return function(i,a){if(o===v)throw Error("Generator is already running");if(o===b){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=B(s,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===y)throw o=b,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=v;var u=h(t,n,r);if("normal"===u.type){if(o=r.done?b:p,u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=b,r.method="throw",r.arg=u.arg)}}}function B(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,B(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=h(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function R(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function z(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(R,this),this.reset(!0)}function C(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function n(){for(;++r<t.length;)if(o.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(u(t)+" is not iterable")}return x.prototype=w,i(j,"constructor",{value:w,configurable:!0}),i(w,"constructor",{value:x,configurable:!0}),x.displayName=f(w,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===x||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,f(e,l,"GeneratorFunction")),e.prototype=Object.create(j),e},t.awrap=function(e){return{__await:e}},P(E.prototype),f(E.prototype,c,(function(){return this})),t.AsyncIterator=E,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new E(d(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},P(j),f(j,l,"Generator"),f(j,s,(function(){return this})),f(j,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=C,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(z),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=o.call(a,"catchLoc"),u=o.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),z(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;z(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:C(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m}},t}function r(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function o(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function s(e){o(a,r,i,s,c,"next",e)}function c(e){o(a,r,i,s,c,"throw",e)}s(void 0)}))}}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(e,t)||s(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){if(e){if("string"==typeof e)return c(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,y(r.key),r)}}function h(e,t,n){return(t=y(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e){var t=function(e){if("object"!=u(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==u(t)?t:t+""}e.r(t),e.d(t,{BoundingBox:()=>I,CheckBox:()=>G,Grid:()=>se,HTML:()=>me,MultiSelect:()=>Re,NumberEntry:()=>Fe,OpenEnd:()=>lt,OrderedScale:()=>Ze,ProgressBar:()=>Qt,SingleSelect:()=>St,Survey:()=>v,TextInput:()=>Ct});var p=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.responses=[],this.currentPage=null,this.nextButtonListener=null,this.plugins=[],this.currentPageElements=[],this.nextButtonListener=null,this.surveyDetails=f({startTime:(new Date).toISOString()},n),this.globalStyles=this.mergeStyles(e.defaultStyles,this.surveyDetails.styles||{}),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",(function(){return t.initialize()})):this.initialize()}return t=e,o=[{key:"initialize",value:function(){try{this.validateStyles(),this.applyGlobalStyles(),this.revealContent()}catch(e){console.error("Error during survey initialization:",e)}}},{key:"applyGlobalStyles",value:function(){var e=document.createElement("style");e.textContent=this.generateStylesheet(),document.head.appendChild(e)}},{key:"revealContent",value:function(){var e=document.getElementById("survey-container");e?e.classList.remove("hidden"):console.warn("Survey container not found")}},{key:"mergeStyles",value:function(t,n){var r=this;return Object.fromEntries(e.styleKeys.map((function(e){return[e,r.deepMerge(t[e],n[e])]})))}},{key:"deepMerge",value:function(e,t){var n=this;return t&&"object"===u(t)?e&&"object"===u(e)?Object.entries(t).reduce((function(t,r){var o=a(r,2),i=o[0],s=o[1];return t[i]=i.startsWith("&")||i.startsWith("@media")?n.deepMerge(e[i]||{},s):s,t}),f({},e)):t:e}},{key:"generateStylesheet",value:function(){var t=this;return e.styleKeys.map((function(e){return t.generateStyleForSelector(t.getSelectorForKey(e),t.globalStyles[e])})).join("\n")}},{key:"getSelectorForKey",value:function(e){return{body:"body",container:"#survey-container",question:"#question-container > div",button:"#next-button",errorMessage:".error-message",nextButtonError:"#next-button-error",navigation:"#navigation",finishMessage:"#finish"}[e]||""}},{key:"generateStyleForSelector",value:function(e,t){var n=this,r=this.rulesToString(t),o="".concat(e," { ").concat(r," }");return Object.entries(t).filter((function(e){var t=a(e,2);return t[0],"object"===u(t[1])})).forEach((function(t){var r=a(t,2),i=r[0],s=r[1];i.startsWith("@media")?o+="\n".concat(i," { ").concat(e," { ").concat(n.rulesToString(s)," } }"):i.startsWith("&")&&(o+="\n".concat(e).concat(i.slice(1)," { ").concat(n.rulesToString(s)," }"))})),o}},{key:"rulesToString",value:function(e){var t=this;return Object.entries(e).filter((function(e){var t=a(e,2);return t[0],"object"!==u(t[1])})).map((function(e){var n=a(e,2),r=n[0],o=n[1];return"".concat(t.camelToKebab(r),": ").concat(o,";")})).join(" ")}},{key:"camelToKebab",value:function(e){return e.replace(/([a-z0-9]|(?=[A-Z]))([A-Z])/g,"$1-$2").toLowerCase()}},{key:"validateStyles",value:function(){Object.keys(this.globalStyles).forEach((function(t){e.styleKeys.includes(t)||console.warn("Invalid style key '".concat(t,"' for Survey. Valid keys are: ").concat(e.styleKeys.join(", ")))}))}},{key:"addPlugin",value:function(e){"function"==typeof e.initialize?(this.plugins.push(e),e.initialize(this)):console.warn("Invalid plugin: missing initialize method")}},{key:"setSurveyDetail",value:function(e,t){this.surveyDetails[e]=t}},{key:"getSurveyDetail",value:function(e){return this.surveyDetails[e]}},{key:"showPage",value:(l=i(n().mark((function e(t){var o,i,a,s,c,u,l,f,d,h,y;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,this.cleanupCurrentPage(),this.currentPage=t,o=r(this.plugins),e.prev=4,o.s();case 6:if((i=o.n()).done){e.next=12;break}return a=i.value,e.next=10,a.beforePageRender(t);case 10:e.next=6;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),o.e(e.t0);case 17:return e.prev=17,o.f(),e.finish(17);case 20:if(s=document.getElementById("page-container")){e.next=23;break}throw new Error("Page container not found");case 23:s.innerHTML="",(c=document.createElement("div")).id="question-container",s.appendChild(c),this.currentPageElements=[],u=r(t.elements);try{for(u.s();!(l=u.n()).done;)(f=l.value).render(),this.currentPageElements.push(f)}catch(e){u.e(e)}finally{u.f()}return e.next=32,this.setupNextButton();case 32:d=r(this.plugins),e.prev=33,d.s();case 35:if((h=d.n()).done){e.next=41;break}return y=h.value,e.next=39,y.afterPageRender(t);case 39:e.next=35;break;case 41:e.next=46;break;case 43:e.prev=43,e.t1=e.catch(33),d.e(e.t1);case 46:return e.prev=46,d.f(),e.finish(46);case 49:e.next=54;break;case 51:e.prev=51,e.t2=e.catch(0),console.error("Error showing page:",e.t2);case 54:case"end":return e.stop()}}),e,this,[[0,51],[4,14,17,20],[33,43,46,49]])}))),function(e){return l.apply(this,arguments)})},{key:"cleanupCurrentPage",value:function(){if(this.currentPageElements&&this.currentPageElements.length>0){var e,t=r(this.currentPageElements);try{for(t.s();!(e=t.n()).done;){var n=e.value;"function"==typeof n.destroy?n.destroy():console.warn("Element ".concat(n.id," does not have a destroy method"))}}catch(e){t.e(e)}finally{t.f()}this.currentPageElements=[]}var o=document.getElementById("next-button");o&&this.nextButtonListener&&(o.removeEventListener("click",this.nextButtonListener),this.nextButtonListener=null)}},{key:"setupNextButton",value:(c=i(n().mark((function e(){var t,r,o=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=document.getElementById("next-button")){e.next=3;break}throw new Error("Next button not found");case 3:return(r=document.createElement("span")).id="next-button-error",r.className="next-button-error",r.style.display="none",t.parentNode.insertBefore(r,t.nextSibling),this.nextButtonListener&&t.removeEventListener("click",this.nextButtonListener),e.abrupt("return",new Promise((function(e){o.nextButtonListener=i(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.validateCurrentPage();case 3:if(!t.sent){t.next=10;break}o.collectPageData(o.currentPage),r.style.display="none",r.textContent="",e(),t.next=12;break;case 10:r.style.display="inline-block",r.textContent="Please check your answers.";case 12:t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),console.error("Error in next button handler:",t.t0);case 17:case"end":return t.stop()}}),t,null,[[0,14]])}))),t.addEventListener("click",o.nextButtonListener)})));case 10:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"validateCurrentPage",value:(s=i(n().mark((function e(){var t,o,i,a;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=!0,o=r(this.currentPage.elements),e.prev=2,o.s();case 4:if((i=o.n()).done){e.next=13;break}if("function"!=typeof(a=i.value).validate){e.next=11;break}return e.next=9,a.validate(!0);case 9:e.sent||(t=!1);case 11:e.next=4;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),o.e(e.t0);case 18:return e.prev=18,o.f(),e.finish(18);case 21:return e.abrupt("return",t);case 22:case"end":return e.stop()}}),e,this,[[2,15,18,21]])}))),function(){return s.apply(this,arguments)})},{key:"collectPageData",value:function(e){var t=this;e.elements.forEach((function(e){var n=e.collectData();null!==n&&t.updateData(n)}))}},{key:"updateData",value:function(e){this.responses.push(f(f({},e),{},{responseTimestamp:(new Date).toISOString()}))}},{key:"getResponse",value:function(e){var t=this.responses.filter((function(t){return t.id===e}));return t.length>0?t[t.length-1].response:null}},{key:"responded",value:function(e){var t=this.responses.filter((function(t){return t.id===e}));return t.length>0&&t[t.length-1].responded}},{key:"getAllResponses",value:function(){return this.responses}},{key:"getAllSurveyData",value:function(){return{surveyDetails:this.surveyDetails,responses:this.responses}}},{key:"finishSurvey",value:function(e){try{this.cleanupCurrentPage();var t=document.getElementById("navigation");t&&t.remove();var n,o=r(this.plugins);try{for(o.s();!(n=o.n()).done;)n.value.beforeSurveyFinish()}catch(e){o.e(e)}finally{o.f()}var i=document.getElementById("page-container");i&&(i.innerHTML="");var a=document.getElementById("finish")||document.createElement("div");if(a.id="finish",a.innerHTML=e,a.style.display="block",!document.getElementById("finish")){var s=document.getElementById("survey-container");s?s.appendChild(a):console.error("Survey container not found")}this.surveyDetails.endTime=(new Date).toISOString()}catch(e){console.error("Error finishing survey:",e)}}}],o&&d(t.prototype,o),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,o,s,c,l}();h(p,"styleKeys",["body","container","question","navigation","button","errorMessage","nextButtonError","finishMessage"]),h(p,"defaultStyles",{body:{fontFamily:"Arial, sans-serif",lineHeight:"1.4",color:"#333",backgroundColor:"#f7f7f7",padding:"25px","@media (max-width: 650px)":{background:"white",padding:"0px"}},container:h(h(h(h({width:"100%",maxWidth:"700px",boxSizing:"border-box",margin:"0 auto",padding:"25px",backgroundColor:"#ffffff"},"boxSizing","border-box"),"boxShadow","0 0 10px rgba(0,0,0,0.1)"),"borderRadius","12px"),"@media (max-width: 650px)",{boxShadow:"none",padding:"20px"}),question:{marginBottom:"30px"},navigation:{marginTop:"45px"},button:{backgroundColor:"#333",maxWidth:"100%",color:"#ffffff",padding:"12px 34px",border:"none",fontSize:"1em",borderRadius:"5px",cursor:"pointer","&:hover":{backgroundColor:"#444"}},errorMessage:{color:"#fa5252",fontWeight:"500",marginTop:"5px",fontSize:"0.9em"},nextButtonError:{color:"#fa5252",fontWeight:"500",marginLeft:"10px",display:"inline-block",fontSize:"0.9em"},finishMessage:{display:"none",fontSize:"1.1em",fontWeight:"bold",textAlign:"center"}});const v=p;function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,k(r.key),r)}}function O(e,t,n){return(t=k(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e){var t=function(e){if("object"!=g(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=g(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==g(t)?t:t+""}var j=function(){return e=function e(t){var n=t.id,r=t.type,o=t.store_data,i=void 0!==o&&o,a=t.required,s=void 0!==a&&a;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!n||"string"!=typeof n)throw new Error("Invalid id: must be a non-empty string");if(!r||"string"!=typeof r)throw new Error("Invalid type: must be a non-empty string");this.id=n,this.type=r,this.store_data=Boolean(i),this.required=Boolean(s),this.data={id:n,type:r,response:null,responded:!1},this.initialResponse=null,this.styles={},this.eventListeners=[]},(t=[{key:"validate",value:function(){return this.required&&!this.data.response?(this.showValidationError("This question is required. Please provide an answer."),!1):(this.showValidationError(null),!0)}},{key:"showValidationError",value:function(e){var t=document.getElementById("".concat(this.id,"-error"));t?(t.textContent=e||"",t.style.display=e?"block":"none"):console.warn("Error element not found for ".concat(this.id))}},{key:"mergeStyles",value:function(e,t){this.styles=this.constructor.styleKeys.reduce((function(n,r){return n[r]=w(w({},e[r]),t[r]),n}),{})}},{key:"generateStylesheet",value:function(){var e=this;return this.constructor.styleKeys.map((function(t){return e.generateStyleForSelector(e.getSelectorForKey(t),e.styles[t])})).join("\n")}},{key:"getSelectorForKey",value:function(e){return""}},{key:"generateStyleForSelector",value:function(e,t){var n=this;if(!t||"object"!==g(t))return console.warn("Invalid rules for selector ".concat(e)),"";var r=e?"#".concat(this.id,"-container ").concat(e):"#".concat(this.id,"-container"),o=this.rulesToString(t),i="".concat(r," { ").concat(o," }");return Object.entries(t).filter((function(e){var t=b(e,2);return t[0],"object"===g(t[1])})).forEach((function(e){var t=b(e,2),o=t[0],a=t[1];o.startsWith("@media")?i+="\n".concat(o," { ").concat(r," { ").concat(n.rulesToString(a)," } }"):o.startsWith("&")&&(i+="\n".concat(r).concat(o.slice(1)," { ").concat(n.rulesToString(a)," }"))})),i}},{key:"rulesToString",value:function(e){var t=this;return Object.entries(e).filter((function(e){var t=b(e,2);return t[0],"object"!==g(t[1])})).map((function(e){var n=b(e,2),r=n[0],o=n[1];return"".concat(t.camelToKebab(r),": ").concat(o,";")})).join(" ")}},{key:"camelToKebab",value:function(e){return e.replace(/([a-z0-9]|(?=[A-Z]))([A-Z])/g,"$1-$2").toLowerCase()}},{key:"setInitialResponse",value:function(e){this.initialResponse=e}},{key:"render",value:function(){var e=document.getElementById("question-container");if(e){var t=document.createElement("div");t.id="".concat(this.id,"-container"),t.innerHTML=this.generateHTML();var n=document.createElement("style");n.textContent=this.generateStylesheet(),t.prepend(n),e.appendChild(t),this.attachEventListeners(),null!==this.initialResponse&&(this.setResponse(this.initialResponse),this.initialResponse=null)}else console.error("Question container not found")}},{key:"generateHTML",value:function(){throw new Error("generateHTML method must be implemented by subclasses")}},{key:"attachEventListeners",value:function(){}},{key:"addEventListenerWithTracking",value:function(e,t,n){var r=function(e){n(e)};e.addEventListener(t,r),this.eventListeners.push({element:e,eventType:t,handler:r})}},{key:"collectData",value:function(){return this.store_data?w({},this.data):null}},{key:"setResponse",value:function(e){this.store_data&&(this.data.response=e,this.data.responseTimestamp=(new Date).toISOString(),this.data.responded=!0),this.showValidationError(null)}},{key:"setResponded",value:function(){this.store_data&&(this.data.responded=!0)}},{key:"addData",value:function(e,t){this.store_data&&(this.data[e]=t)}},{key:"isValid",value:function(){return this.validate()}},{key:"destroy",value:function(){var e=this;this.eventListeners&&(this.eventListeners.forEach((function(e){var t=e.element,n=e.eventType,r=e.handler;t.removeEventListener(n,r)})),this.eventListeners=[]);var t=document.getElementById("".concat(this.id,"-container"));t&&t.remove(),this.data=null,Object.keys(this).forEach((function(t){e.hasOwnProperty(t)&&(e[t]=null)}))}}])&&S(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();O(j,"dataStructure",{id:null,type:null,response:null,responseTimestamp:null}),O(j,"defaultStyles",{});const P=j;function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,D(r.key),r)}}function B(e,t,n){return t=L(t),function(e,t){if(t&&("object"==E(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,R()?Reflect.construct(t,n||[],L(e).constructor):t.apply(e,n))}function R(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(R=function(){return!!e})()}function z(){return z="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=L(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},z.apply(null,arguments)}function L(e){return L=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},L(e)}function C(e,t){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},C(e,t)}function M(e,t,n){return(t=D(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D(e){var t=function(e){if("object"!=E(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=E(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==E(t)?t:t+""}var _=function(e){function t(e){var n,r=e.id,o=e.text,i=e.imageUrl,a=e.boxColor,s=void 0===a?"#FF0000":a,c=e.boxOpacity,u=void 0===c?.3:c,l=e.maxBoxes,f=void 0===l?1/0:l,d=e.required,h=void 0===d||d,y=e.styles,p=void 0===y?{}:y;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=B(this,t,[{id:r,type:"bounding-box",store_data:!0,required:h}]),!i)throw new Error("Image URL is required");return n.text=o,n.imageUrl=i,n.boxColor=s,n.boxOpacity=u,n.maxBoxes=f,n.mergeStyles(t.defaultStyles,p),n.initializeState(),n.bindEventHandlers(),n.setInitialResponse([]),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C(e,t)}(t,e),n=t,r=[{key:"initializeState",value:function(){this.boxes=[],this.history=[[]],this.canvas=null,this.ctx=null,this.image=null,this.activeBox=null,this.isDrawing=!1,this.isMoving=!1,this.isResizing=!1,this.resizeHandle=null,this.dragStartX=0,this.dragStartY=0,this.scaleFactor=1,this.potentialBox=null}},{key:"bindEventHandlers",value:function(){this.handleMouseDown=this.handleMouseDown.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.handleTouchStart=this.handleTouchStart.bind(this),this.handleTouchMove=this.handleTouchMove.bind(this),this.handleTouchEnd=this.handleTouchEnd.bind(this),this.handleCursorUpdate=this.handleCursorUpdate.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleResize=this.handleResize.bind(this)}},{key:"getSelectorForKey",value:function(e){return{root:"",innerContainer:"#".concat(this.id,"-inner-container"),label:".question-label",canvas:"canvas",controls:".controls",controlPoint:".control-point",button:"button",errorMessage:".error-message"}[e]||""}},{key:"generateHTML",value:function(){return'\n            <div id="'.concat(this.id,'-container" class="bounding-box-question">\n                <div id = "').concat(this.id,'-inner-container">\n                    <label class="question-label">').concat(this.text,'</label>\n                    <canvas id="').concat(this.id,'-canvas"></canvas>\n                    <div>\n                        <button id="').concat(this.id,'-clear" class="bounding-box-button">Clear</button>\n                        <button id="').concat(this.id,'-undo" class="bounding-box-button" disabled>Undo</button>\n                        <button id="').concat(this.id,'-remove" class="bounding-box-button" disabled>Remove</button>\n                    </div>\n                </div>\n                <div id="').concat(this.id,'-error" class="error-message" style="display: none;"></div>\n            </div>\n        ')}},{key:"attachEventListeners",value:function(){var e=this;this.canvas=document.getElementById("".concat(this.id,"-canvas")),this.ctx=this.canvas.getContext("2d"),this.image=new Image,this.image.onload=function(){e.resizeCanvas(),e.draw()},this.image.src=this.imageUrl,this.addEventListenerWithTracking(this.canvas,"mousedown",this.handleMouseDown),this.addEventListenerWithTracking(document.getElementById("".concat(this.id,"-clear")),"click",this.clearBoxes.bind(this)),this.addEventListenerWithTracking(document.getElementById("".concat(this.id,"-undo")),"click",this.undoAction.bind(this)),this.addEventListenerWithTracking(document.getElementById("".concat(this.id,"-remove")),"click",this.removeActiveBox.bind(this)),this.addEventListenerWithTracking(window,"resize",this.handleResize),this.addEventListenerWithTracking(this.canvas,"touchstart",this.handleTouchStart,{passive:!1}),this.addEventListenerWithTracking(this.canvas,"touchmove",this.handleTouchMove,{passive:!1}),this.addEventListenerWithTracking(this.canvas,"touchend",this.handleTouchEnd),this.addEventListenerWithTracking(this.canvas,"mousemove",this.handleCursorUpdate),this.addEventListenerWithTracking(document,"keydown",this.handleKeyDown)}},{key:"handleResize",value:function(){this.resizeCanvas(),this.draw()}},{key:"resizeCanvas",value:function(){var e=this.canvas.parentElement.clientWidth;this.scaleFactor=e/this.image.width,this.canvas.width=e,this.canvas.height=this.image.height*this.scaleFactor}},{key:"handleMouseDown",value:function(e){var t=this.getScaledPosition(e),n=t.x,r=t.y;this.startInteraction(n,r),this.addEventListenerWithTracking(document,"mousemove",this.handleMouseMove),this.addEventListenerWithTracking(document,"mouseup",this.handleMouseUp)}},{key:"handleMouseMove",value:function(e){var t=this.getScaledPosition(e),n=t.x,r=t.y;this.updateInteraction(n,r)}},{key:"handleMouseUp",value:function(){this.endInteraction(),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp)}},{key:"handleTouchStart",value:function(e){e.preventDefault();var t=e.touches[0],n=this.getScaledPosition(t),r=n.x,o=n.y;this.startInteraction(r,o)}},{key:"handleTouchMove",value:function(e){e.preventDefault();var t=e.touches[0],n=this.getScaledPosition(t),r=n.x,o=n.y;this.updateInteraction(r,o)}},{key:"handleTouchEnd",value:function(){this.endInteraction()}},{key:"handleCursorUpdate",value:function(e){var t=this.getScaledPosition(e),n=t.x,r=t.y;this.updateCursor(n,r)}},{key:"handleKeyDown",value:function(e){"Delete"!==e.key&&"Backspace"!==e.key||!this.activeBox||(e.preventDefault(),this.removeActiveBox(),this.updateHistory())}},{key:"startInteraction",value:function(e,t){var n=this.getClickedBox(e,t);n?(this.activeBox=n,this.dragStartX=e-n.x,this.dragStartY=t-n.y,this.resizeHandle=this.getResizeHandle(n,e,t),this.isResizing=!!this.resizeHandle,this.isMoving=!this.isResizing):(this.activeBox=null,this.boxes.length<this.maxBoxes&&(this.potentialBox={startX:e,startY:t})),this.updateRemoveButtonState(),this.draw()}},{key:"updateInteraction",value:function(e,t){this.isDrawing?this.updateDrawing(e,t):this.isMoving?this.updateMoving(e,t):this.isResizing?this.updateResizing(e,t):this.potentialBox?this.checkStartDrawing(e,t):this.updateCursor(e,t),this.draw()}},{key:"endInteraction",value:function(){this.isDrawing&&0===this.activeBox.width&&0===this.activeBox.height&&(this.boxes.pop(),this.activeBox=null),this.isDrawing=!1,this.isMoving=!1,this.isResizing=!1,this.resizeHandle=null,this.potentialBox=null,this.setResponse(this.getScaledBoxes()),this.updateRemoveButtonState(),this.draw(),this.updateHistory()}},{key:"updateDrawing",value:function(e,t){var n=e-this.activeBox.startX,r=t-this.activeBox.startY;this.activeBox.x=n<0?e:this.activeBox.startX,this.activeBox.y=r<0?t:this.activeBox.startY,this.activeBox.width=Math.abs(n),this.activeBox.height=Math.abs(r),this.constrainBoxToImage(this.activeBox)}},{key:"updateMoving",value:function(e,t){var n=e-this.dragStartX,r=t-this.dragStartY;this.moveBox(this.activeBox,n,r)}},{key:"updateResizing",value:function(e,t){this.resizeBox(e,t)}},{key:"checkStartDrawing",value:function(e,t){var n=e-this.potentialBox.startX,r=t-this.potentialBox.startY;Math.sqrt(n*n+r*r)>5&&(this.isDrawing=!0,this.activeBox={startX:this.potentialBox.startX,startY:this.potentialBox.startY,x:this.potentialBox.startX,y:this.potentialBox.startY,width:0,height:0},this.boxes.push(this.activeBox),this.potentialBox=null,this.updateRemoveButtonState())}},{key:"getScaledPosition",value:function(e){var t=this.canvas.getBoundingClientRect(),n=e.clientX||e.touches&&e.touches[0].clientX,r=e.clientY||e.touches&&e.touches[0].clientY;return{x:(n-t.left)/this.scaleFactor,y:(r-t.top)/this.scaleFactor}}},{key:"clearBoxes",value:function(){this.boxes=[],this.activeBox=null,this.draw(),this.setResponse([]),this.updateRemoveButtonState(),this.updateHistory()}},{key:"removeActiveBox",value:function(){var e=this;this.activeBox&&(this.boxes=this.boxes.filter((function(t){return t!==e.activeBox})),this.activeBox=null,this.draw(),this.setResponse(this.getScaledBoxes()),this.updateRemoveButtonState(),this.updateHistory())}},{key:"updateRemoveButtonState",value:function(){document.getElementById("".concat(this.id,"-remove")).disabled=!this.activeBox}},{key:"getClickedBox",value:function(e,t){return this.boxes.find((function(n){return e>=n.x&&e<=n.x+n.width&&t>=n.y&&t<=n.y+n.height}))}},{key:"getResizeHandle",value:function(e,t,n){return[{x:e.x,y:e.y,cursor:"nw-resize"},{x:e.x+e.width/2,y:e.y,cursor:"n-resize"},{x:e.x+e.width,y:e.y,cursor:"ne-resize"},{x:e.x+e.width,y:e.y+e.height/2,cursor:"e-resize"},{x:e.x+e.width,y:e.y+e.height,cursor:"se-resize"},{x:e.x+e.width/2,y:e.y+e.height,cursor:"s-resize"},{x:e.x,y:e.y+e.height,cursor:"sw-resize"},{x:e.x,y:e.y+e.height/2,cursor:"w-resize"}].find((function(e){return Math.abs(t-e.x)<15&&Math.abs(n-e.y)<15}))}},{key:"updateCursor",value:function(e,t){var n=this.getClickedBox(e,t);if(n){var r=this.getResizeHandle(n,e,t);this.canvas.style.cursor=r?r.cursor:"move"}else this.canvas.style.cursor=this.boxes.length<this.maxBoxes?"crosshair":"default"}},{key:"resizeBox",value:function(e,t){var n=this.activeBox,r=n.x,o=n.y,i=n.width,a=n.height;switch(this.resizeHandle.cursor){case"nw-resize":i=n.width+(n.x-e),a=n.height+(n.y-t),r=e,o=t;break;case"n-resize":a=n.height+(n.y-t),o=t;break;case"ne-resize":i=e-n.x,a=n.height+(n.y-t),o=t;break;case"e-resize":i=e-n.x;break;case"se-resize":i=e-n.x,a=t-n.y;break;case"s-resize":a=t-n.y;break;case"sw-resize":i=n.width+(n.x-e),a=t-n.y,r=e;break;case"w-resize":i=n.width+(n.x-e),r=e}i<0&&(r+=i,i=Math.abs(i),this.flipResizeHandle("horizontal")),a<0&&(o+=a,a=Math.abs(a),this.flipResizeHandle("vertical")),n.x=r,n.y=o,n.width=i,n.height=a,this.constrainBoxToImage(n)}},{key:"flipResizeHandle",value:function(e){var t={horizontal:{"nw-resize":"ne-resize","ne-resize":"nw-resize","sw-resize":"se-resize","se-resize":"sw-resize","w-resize":"e-resize","e-resize":"w-resize"},vertical:{"nw-resize":"sw-resize","ne-resize":"se-resize","sw-resize":"nw-resize","se-resize":"ne-resize","n-resize":"s-resize","s-resize":"n-resize"}};this.resizeHandle&&t[e][this.resizeHandle.cursor]&&(this.resizeHandle.cursor=t[e][this.resizeHandle.cursor])}},{key:"moveBox",value:function(e,t,n){e.x=Math.max(0,Math.min(t,this.image.width-e.width)),e.y=Math.max(0,Math.min(n,this.image.height-e.height))}},{key:"constrainBoxToImage",value:function(e){e.x=Math.max(0,Math.min(e.x,this.image.width-1)),e.y=Math.max(0,Math.min(e.y,this.image.height-1)),e.width=Math.max(1,Math.min(e.width,this.image.width-e.x)),e.height=Math.max(1,Math.min(e.height,this.image.height-e.y))}},{key:"draw",value:function(){var e=this;this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.ctx.drawImage(this.image,0,0,this.canvas.width,this.canvas.height),this.boxes.forEach((function(t){e.ctx.fillStyle=e.getRGBAColor(e.boxColor,e.boxOpacity),e.ctx.fillRect(t.x*e.scaleFactor,t.y*e.scaleFactor,t.width*e.scaleFactor,t.height*e.scaleFactor),t===e.activeBox&&e.drawResizeHandles(t)}))}},{key:"drawResizeHandles",value:function(e){var t=this;[{x:e.x,y:e.y},{x:e.x+e.width/2,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height/2},{x:e.x+e.width,y:e.y+e.height},{x:e.x+e.width/2,y:e.y+e.height},{x:e.x,y:e.y+e.height},{x:e.x,y:e.y+e.height/2}].forEach((function(e){t.ctx.fillStyle="white",t.ctx.fillRect(e.x*t.scaleFactor-5,e.y*t.scaleFactor-5,10,10)}))}},{key:"getRGBAColor",value:function(e,t){if(e.startsWith("#")){var n=parseInt(e.slice(1,3),16),r=parseInt(e.slice(3,5),16),o=parseInt(e.slice(5,7),16);return"rgba(".concat(n,", ").concat(r,", ").concat(o,", ").concat(t,")")}return e}},{key:"getScaledBoxes",value:function(){var e=this;return this.boxes.map((function(t){return{x:t.x/e.image.width,y:t.y/e.image.height,width:t.width/e.image.width,height:t.height/e.image.height}}))}},{key:"updateHistory",value:function(){this.boxes.length>0?1!==this.history.length&&JSON.stringify(this.history[this.history.length-1])===JSON.stringify(this.boxes)||(this.history.push(JSON.parse(JSON.stringify(this.boxes))),document.getElementById("".concat(this.id,"-undo")).disabled=!1):this.history.length>1&&(this.history=[[]],document.getElementById("".concat(this.id,"-undo")).disabled=!0)}},{key:"undoAction",value:function(){this.history.length>1&&(this.history.pop(),this.boxes=JSON.parse(JSON.stringify(this.history[this.history.length-1])),this.activeBox=null,this.draw(),this.setResponse(this.getScaledBoxes()),this.updateRemoveButtonState(),1===this.history.length&&(document.getElementById("".concat(this.id,"-undo")).disabled=!0))}},{key:"setResponse",value:function(e){z(L(t.prototype),"setResponse",this).call(this,e,e.length>0),this.showValidationError("")}},{key:"validate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=!this.required||this.boxes.length>0;return e&&!t?this.showValidationError("Please draw at least one bounding box."):this.showValidationError(""),t}},{key:"destroy",value:function(){this.eventListeners.forEach((function(e){var t=e.element,n=e.eventType,r=e.handler;t.removeEventListener(n,r)})),this.eventListeners=[],this.ctx&&this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.initializeState(),z(L(t.prototype),"destroy",this).call(this)}}],r&&T(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(P);M(_,"styleKeys",["root","innerContainer","label","canvas","controls","controlPoint","button","errorMessage"]),M(_,"defaultStyles",{root:{position:"relative",marginBottom:"20px",width:"100%"},innerContainer:{},label:{display:"block",fontSize:"1.1em",fontWeight:"bold",marginBottom:"10px"},canvas:{cursor:"crosshair",display:"block",marginBottom:"10px",width:"100%",height:"auto"},controls:{position:"absolute",backgroundColor:"rgba(255, 255, 255, 0.5)"},controlPoint:{position:"absolute",width:"10px",height:"10px",backgroundColor:"white",border:"1px solid #333"},button:{backgroundColor:"#333",color:"#ffffff",padding:"8px 24px",border:"none",borderRadius:"5px",cursor:"pointer",marginRight:"10px","&:hover":{backgroundColor:"#444"},"&:disabled":{backgroundColor:"#888",cursor:"not-allowed"}},errorMessage:{color:"#fa5252",fontSize:"0.9em",marginTop:"5px"}});const I=_;function A(e){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(e)}function q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,U(r.key),r)}}function H(e,t,n){return t=W(t),function(e,t){if(t&&("object"==A(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,F()?Reflect.construct(t,n||[],W(e).constructor):t.apply(e,n))}function F(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(F=function(){return!!e})()}function K(){return K="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=W(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},K.apply(null,arguments)}function W(e){return W=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},W(e)}function N(e,t){return N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},N(e,t)}function V(e,t,n){return(t=U(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U(e){var t=function(e){if("object"!=A(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=A(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==A(t)?t:t+""}var Y=function(e){function t(e){var n,r=e.id,o=e.text,i=e.required,a=void 0===i||i,s=e.styles,c=void 0===s?{}:s;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=H(this,t,[{id:r,type:"checkbox",store_data:!0,required:a}])).text=o,n.mergeStyles(t.defaultStyles,c),n.addData("text",o),n.setInitialResponse(!1),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&N(e,t)}(t,e),n=t,r=[{key:"getSelectorForKey",value:function(e){return{root:"",innerContainer:"#".concat(this.id,"-inner-container"),label:"label",checkbox:'input[type="checkbox"]',errorMessage:".error-message"}[e]||""}},{key:"generateHTML",value:function(){return'\n            <div id="'.concat(this.id,'-container" class="checkbox-question">\n                <div id="').concat(this.id,'-inner-container">\n                    <input type="checkbox" id="').concat(this.id,'" name="').concat(this.id,'">\n                    <label for="').concat(this.id,'">').concat(this.text,'</label>\n                </div>\n                <div id="').concat(this.id,'-error" class="error-message" style="display: none;">\n            </div>\n        ')}},{key:"attachEventListeners",value:function(){var e=this,t=document.getElementById(this.id);this.addEventListenerWithTracking(t,"change",(function(t){e.setResponse(t.target.checked)}))}},{key:"setResponse",value:function(e){K(W(t.prototype),"setResponse",this).call(this,Boolean(e))}},{key:"validate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=!this.required||!0===this.data.response;return e&&!t?this.showValidationError("This checkbox is required."):this.showValidationError(""),t}}],r&&q(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(P);V(Y,"styleKeys",["root","innerContainer","label","checkbox","errorMessage"]),V(Y,"defaultStyles",{root:{marginBottom:"20px",fontSize:"1em"},innerContainer:{display:"flex",alignItems:"center",justifyContent:"flex-start",gap:"5px"},label:{display:"block",fontSize:"1.1em",fontWeight:"bold"},checkbox:{height:"16px",width:"16px"},errorMessage:{color:"#fa5252",fontSize:"0.9em",marginTop:"5px"}});const G=Y;function $(e){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$(e)}function X(e){return function(e){if(Array.isArray(e))return J(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return J(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?J(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ie(r.key),r)}}function Q(e,t,n){return t=ne(t),function(e,t){if(t&&("object"==$(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ee()?Reflect.construct(t,n||[],ne(e).constructor):t.apply(e,n))}function ee(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ee=function(){return!!e})()}function te(){return te="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=ne(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},te.apply(null,arguments)}function ne(e){return ne=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ne(e)}function re(e,t){return re=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},re(e,t)}function oe(e,t,n){return(t=ie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ie(e){var t=function(e){if("object"!=$(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=$(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==$(t)?t:t+""}var ae=function(e){function t(e){var n,r=e.id,o=e.text,i=e.subText,a=void 0===i?"":i,s=e.rows,c=e.columns,u=e.required,l=void 0===u||u,f=e.randomizeRows,d=void 0!==f&&f,h=e.randomizeColumns,y=void 0!==h&&h,p=e.styles,v=void 0===p?{}:p;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=Q(this,t,[{id:r,type:"grid",store_data:!0,required:l}]),!Array.isArray(s)||0===s.length||!Array.isArray(c)||0===c.length)throw new Error("Rows and columns must be non-empty arrays");return n.text=o,n.subText=a,n.rows=s,n.columns=c,n.randomizeRows=Boolean(d),n.randomizeColumns=Boolean(y),n.mergeStyles(t.defaultStyles,v),n.addData("text",o),n.addData("subText",a),n.addData("rows",s),n.addData("columns",c),n.addData("randomizeRows",n.randomizeRows),n.addData("randomizeColumns",n.randomizeColumns),n.setInitialResponse({}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&re(e,t)}(t,e),n=t,r=[{key:"getSelectorForKey",value:function(e){return{root:"",innerContainer:"#".concat(this.id,"-inner-container"),label:".question-label",subText:".question-subtext",table:"table",headerRow:"thead tr",headerCell:"thead th",row:"tbody tr",rowLabel:"tbody td.row-label",cell:"tbody td",radio:'input[type="radio"]',errorMessage:".error-message"}[e]||""}},{key:"generateHTML",value:function(){var e=this,t=this.randomizeRows?this.shuffleArray(X(this.rows)):this.rows,n=this.randomizeColumns?this.shuffleArray(X(this.columns)):this.columns,r="\n            <tr>\n                <th></th>\n                ".concat(n.map((function(e){return"<th>".concat(e,"</th>")})).join(""),"\n            </tr>\n        "),o=t.map((function(t,r){return'\n            <tr>\n                <td class="row-label">'.concat(t,"</td>\n                ").concat(n.map((function(t,n){return'\n                    <td>\n                        <input type="radio" id="'.concat(e.id,"-").concat(r,"-").concat(n,'" \n                               name="').concat(e.id,"-").concat(r,'" value="').concat(t,'">\n                    </td>\n                ')})).join(""),"\n            </tr>\n        ")})).join("");return'\n            <div class="grid-question" id="'.concat(this.id,'-container">\n                <div id="').concat(this.id,'-inner-container">\n                    <label class="question-label">').concat(this.text,"</label>\n                    ").concat(this.subText?'<span class="question-subtext">'.concat(this.subText,"</span>"):"","\n                    <table>\n                        <thead>").concat(r,"</thead>\n                        <tbody>").concat(o,'</tbody>\n                    </table>\n                </div>\n                <div id="').concat(this.id,'-error" class="error-message" style="display: none;"></div>\n            </div>\n        ')}},{key:"shuffleArray",value:function(e){return e.sort((function(){return Math.random()-.5}))}},{key:"attachEventListeners",value:function(){var e=document.getElementById("".concat(this.id,"-container"));this.addEventListenerWithTracking(e,"change",this.handleChange.bind(this))}},{key:"handleChange",value:function(e){"radio"===e.target.type&&this.updateResponse()}},{key:"updateResponse",value:function(){var e=this,t=document.getElementById("".concat(this.id,"-container")),n=Object.fromEntries(this.rows.map((function(n,r){var o=t.querySelector('input[name="'.concat(e.id,"-").concat(r,'"]:checked'));return[n,o?o.value:null]})));this.setResponse(n)}},{key:"setResponse",value:function(e){var n=Object.values(e).some((function(e){return null!==e}));te(ne(t.prototype),"setResponse",this).call(this,e,n),this.showValidationError("")}},{key:"validate",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.rows.filter((function(t){return!e.data.response[t]})),r=!this.required||0===n.length;return t&&!r?this.showValidationError("Please provide a response for all rows. Missing: ".concat(n.join(", "))):this.showValidationError(""),r}}],r&&Z(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(P);oe(ae,"styleKeys",["root","innerContainer","label","subText","table","headerRow","headerCell","row","rowLabel","cell","radio","errorMessage"]),oe(ae,"defaultStyles",{root:{marginBottom:"20px",borderRadius:"5px"},innerContainer:{},label:{display:"block",marginBottom:"5px",fontWeight:"bold",fontSize:"1.1em"},subText:{display:"block",marginBottom:"10px",color:"#6c757d",fontSize:"1.1em"},table:{width:"100%",borderCollapse:"collapse"},headerRow:{backgroundColor:"#f2f2f2"},headerCell:{padding:"10px",textAlign:"center",fontWeight:"bold"},row:{borderBottom:"1px solid #dee2e6"},rowLabel:{padding:"10px",fontWeight:"bold",textAlign:"left"},cell:{padding:"10px",textAlign:"center"},radio:{margin:"0 auto"},errorMessage:{color:"#fa5252",fontSize:"0.9em",marginTop:"5px"}});const se=ae;function ce(e){return ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ce(e)}function ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ve(r.key),r)}}function le(e,t,n){return t=he(t),function(e,t){if(t&&("object"==ce(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,fe()?Reflect.construct(t,n||[],he(e).constructor):t.apply(e,n))}function fe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(fe=function(){return!!e})()}function de(){return de="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=he(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},de.apply(null,arguments)}function he(e){return he=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},he(e)}function ye(e,t){return ye=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ye(e,t)}function pe(e,t,n){return(t=ve(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ve(e){var t=function(e){if("object"!=ce(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ce(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ce(t)?t:t+""}var be=function(e){function t(e){var n,r=e.id,o=e.content,i=e.styles,a=void 0===i?{}:i;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=le(this,t,[{id:r,type:"html",store_data:!1,required:!1}]),"string"!=typeof o||""===o.trim())throw new Error("Content must be a non-empty string");return n.content=o,n.mergeStyles(t.defaultStyles,a),n.rendered=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ye(e,t)}(t,e),n=t,(r=[{key:"getSelectorForKey",value:function(e){return"root"===e?"":e}},{key:"generateHTML",value:function(){return'\n            <div class="html-content" id="'.concat(this.id,'-container">\n                ').concat(this.content,"\n            </div>\n        ")}},{key:"render",value:function(){if(this.rendered){var e=document.getElementById("".concat(this.id,"-container"));if(e)return void(e.innerHTML=this.content)}de(he(t.prototype),"render",this).call(this),this.rendered=!0}},{key:"destroy",value:function(){var e=document.getElementById("".concat(this.id,"-container"));e&&e.remove(),this.rendered=!1}},{key:"attachEventListeners",value:function(){}},{key:"setResponse",value:function(){}},{key:"validate",value:function(){return!0}}])&&ue(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(P);pe(be,"styleKeys",["root"]),pe(be,"defaultStyles",{root:{background:"white"}});const me=be;function ge(e){return ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ge(e)}function xe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function we(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Te(r.key),r)}}function Se(e,t,n){return t=je(t),function(e,t){if(t&&("object"==ge(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Oe()?Reflect.construct(t,n||[],je(e).constructor):t.apply(e,n))}function Oe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Oe=function(){return!!e})()}function ke(){return ke="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=je(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},ke.apply(null,arguments)}function je(e){return je=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},je(e)}function Pe(e,t){return Pe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Pe(e,t)}function Ee(e,t,n){return(t=Te(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Te(e){var t=function(e){if("object"!=ge(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ge(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ge(t)?t:t+""}var Be=function(e){function t(e){var n,r=e.id,o=e.text,i=e.subText,a=void 0===i?"":i,s=e.options,c=e.required,u=void 0===c||c,l=e.randomize,f=void 0!==l&&l,d=e.minSelected,h=void 0===d?0:d,y=e.maxSelected,p=void 0===y?null:y,v=e.styles,b=void 0===v?{}:v;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=Se(this,t,[{id:r,type:"multi-select",store_data:!0,required:u}]),!Array.isArray(s)||0===s.length)throw new Error("Options must be a non-empty array");if(h<0||null!==p&&h>p)throw new Error("Invalid minSelected or maxSelected values");return n.text=o,n.subText=a,n.options=s,n.randomize=Boolean(f),n.minSelected=h,n.maxSelected=p,n.mergeStyles(t.defaultStyles,b),n.addData("text",o),n.addData("subText",a),n.addData("options",s),n.addData("randomize",n.randomize),n.addData("minSelected",h),n.addData("maxSelected",p),n.setInitialResponse([]),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pe(e,t)}(t,e),n=t,r=[{key:"getSelectorForKey",value:function(e){return{root:"",innerContainer:"#".concat(this.id,"-inner-container"),label:".question-label",subText:".question-subtext",optionsContainer:".options-container",option:".option",checkbox:'input[type="checkbox"]',errorMessage:".error-message"}[e]||""}},{key:"generateHTML",value:function(){var e=this,t=(this.randomize?this.shuffleArray(function(e){return function(e){if(Array.isArray(e))return xe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return xe(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xe(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(this.options)):this.options).map((function(t,n){return'\n            <div class="option">\n                <input type="checkbox" id="'.concat(e.id,"-").concat(n,'" name="').concat(e.id,'" value="').concat(t,'">\n                <label for="').concat(e.id,"-").concat(n,'">').concat(t,"</label>\n            </div>\n        ")})).join("");return'\n            <div class="multi-select-question" id="'.concat(this.id,'-container">\n                <div id="').concat(this.id,'-inner-container">\n                    <label class="question-label">').concat(this.text,"</label>\n                    ").concat(this.subText?'<span class="question-subtext">'.concat(this.subText,"</span>"):"",'\n                    <div class="options-container">\n                        ').concat(t,'\n                    </div>\n                </div>\n                <div id="').concat(this.id,'-error" class="error-message" style="display: none;"></div>\n            </div>\n        ')}},{key:"shuffleArray",value:function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),r=[e[n],e[t]];e[t]=r[0],e[n]=r[1]}return e}},{key:"attachEventListeners",value:function(){var e=document.getElementById("".concat(this.id,"-container"));this.addEventListenerWithTracking(e,"change",this.handleChange.bind(this))}},{key:"handleChange",value:function(e){"checkbox"===e.target.type&&this.updateResponse()}},{key:"updateResponse",value:function(){var e=document.getElementById("".concat(this.id,"-container")).querySelectorAll('input[name="'.concat(this.id,'"]:checked')),t=Array.from(e).map((function(e){return e.value}));this.setResponse(t)}},{key:"setResponse",value:function(e){ke(je(t.prototype),"setResponse",this).call(this,e,e.length>0),this.showValidationError("")}},{key:"validate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.data.response?this.data.response.length:0,n=!0,r="";return this.required&&0===t?(n=!1,r="Please select at least one option."):this.minSelected>0&&t<this.minSelected?(n=!1,r="Please select at least ".concat(this.minSelected," option(s).")):null!==this.maxSelected&&t>this.maxSelected&&(n=!1,r="Please select no more than ".concat(this.maxSelected," option(s).")),e?this.showValidationError(r):this.showValidationError(""),n}}],r&&we(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(P);Ee(Be,"styleKeys",["root","innerContainer","label","subText","optionsContainer","option","checkbox","errorMessage"]),Ee(Be,"defaultStyles",{root:{marginBottom:"20px",borderRadius:"5px"},innerContainer:{},label:{display:"block",marginBottom:"5px",fontWeight:"bold",fontSize:"1.1em"},subText:{display:"block",marginBottom:"10px",color:"#6c757d",fontSize:"1.1em"},optionsContainer:{display:"flex",flexDirection:"column"},option:{marginBottom:"5px"},checkbox:{marginRight:"5px"},errorMessage:{color:"#fa5252",fontSize:"0.9em",marginTop:"5px"}});const Re=Be;function ze(e){return ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ze(e)}function Le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,qe(r.key),r)}}function Ce(e,t,n){return t=_e(t),function(e,t){if(t&&("object"==ze(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Me()?Reflect.construct(t,n||[],_e(e).constructor):t.apply(e,n))}function Me(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Me=function(){return!!e})()}function De(){return De="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=_e(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},De.apply(null,arguments)}function _e(e){return _e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_e(e)}function Ie(e,t){return Ie=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ie(e,t)}function Ae(e,t,n){return(t=qe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qe(e){var t=function(e){if("object"!=ze(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ze(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ze(t)?t:t+""}var He=function(e){function t(e){var n,r=e.id,o=e.text,i=e.subText,a=void 0===i?"":i,s=e.min,c=void 0===s?null:s,u=e.max,l=void 0===u?null:u,f=e.step,d=void 0===f?1:f,h=e.unit,y=void 0===h?"":h,p=e.required,v=void 0===p||p,b=e.styles,m=void 0===b?{}:b;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Ce(this,t,[{id:r,type:"number-entry",store_data:!0,required:v}])).text=o,n.subText=a,n.min=c,n.max=l,n.step=d,n.unit=y,n.mergeStyles(t.defaultStyles,m),n.addData("text",o),n.addData("subText",a),n.addData("min",c),n.addData("max",l),n.addData("step",d),n.addData("unit",y),n.setInitialResponse(""),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ie(e,t)}(t,e),n=t,r=[{key:"getSelectorForKey",value:function(e){return{root:"",innerContainer:"#".concat(this.id,"-inner-container"),label:"label",subText:".question-subtext",input:'input[type="number"]',unit:".unit-label",errorMessage:".error-message"}[e]||""}},{key:"generateHTML",value:function(){var e=null!==this.min?'min="'.concat(this.min,'"'):"",t=null!==this.max?'max="'.concat(this.max,'"'):"";return'\n            <div class="number-entry-question" id="'.concat(this.id,'-container">\n                <div id="').concat(this.id,'-inner-container">\n                    <label for="').concat(this.id,'">').concat(this.text,"</label>\n                    ").concat(this.subText?'<span class="question-subtext">'.concat(this.subText,"</span>"):"",'\n                    <div>\n                        <input \n                            type="number" \n                            id="').concat(this.id,'" \n                            name="').concat(this.id,'" \n                            ').concat(e,"\n                            ").concat(t,'\n                            step="').concat(this.step,'"\n                            ').concat(this.required?"required":"","\n                        >\n                        ").concat(this.unit?'<span class="unit-label">'.concat(this.unit,"</span>"):"",'\n                    </div>\n                </div>\n                <div id="').concat(this.id,'-error" class="error-message" style="display: none;"></div>\n            </div>\n        ')}},{key:"attachEventListeners",value:function(){var e=this;document.getElementById(this.id).addEventListener("input",(function(t){e.setResponse(t.target.value)}))}},{key:"setResponse",value:function(e){De(_e(t.prototype),"setResponse",this).call(this,e,""!==e),this.addData("numericValue",""!==e?parseFloat(e):null)}},{key:"validate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.data.response,n=!0,r="";if(this.required&&""===t)n=!1,r="This field is required.";else if(""!==t){var o=parseFloat(t);isNaN(o)?(n=!1,r="Please enter a valid number."):null!==this.min&&o<this.min?(n=!1,r="Please enter a number greater than or equal to ".concat(this.min,".")):null!==this.max&&o>this.max&&(n=!1,r="Please enter a number less than or equal to ".concat(this.max,"."))}return e&&this.showValidationError(r),n}}],r&&Le(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(P);Ae(He,"styleKeys",["root","innerContainer","label","subText","input","unit","errorMessage"]),Ae(He,"defaultStyles",{root:{marginBottom:"20px"},innerContainer:{},label:{display:"block",marginBottom:"5px",fontWeight:"bold",fontSize:"1.1em"},subText:{display:"block",marginBottom:"10px",color:"#6c757d",fontSize:"1.1em"},input:{width:"80px",padding:"8px",border:"1px solid #ccc",borderRadius:"4px",fontSize:"1em"},unit:{marginLeft:"5px",fontSize:"0.9em"},errorMessage:{marginTop:"5px",color:"#fa5252",fontSize:"0.9em"}});const Fe=He;function Ke(e){return Ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ke(e)}function We(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Xe(r.key),r)}}function Ne(e,t,n){return t=Ye(t),function(e,t){if(t&&("object"==Ke(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ve()?Reflect.construct(t,n||[],Ye(e).constructor):t.apply(e,n))}function Ve(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ve=function(){return!!e})()}function Ue(){return Ue="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=Ye(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},Ue.apply(null,arguments)}function Ye(e){return Ye=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ye(e)}function Ge(e,t){return Ge=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ge(e,t)}function $e(e,t,n){return(t=Xe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xe(e){var t=function(e){if("object"!=Ke(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Ke(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ke(t)?t:t+""}var Je=function(e){function t(e){var n,r=e.id,o=e.text,i=e.subText,a=void 0===i?"":i,s=e.required,c=void 0===s||s,u=e.min,l=void 0===u?1:u,f=e.max,d=void 0===f?7:f,h=e.labels,y=void 0===h?[]:h,p=e.styles,v=void 0===p?{}:p;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=Ne(this,t,[{id:r,type:"ordered-scale",store_data:!0,required:c}]),l>=d)throw new Error("Min value must be less than max value");if(y.length>0&&y.length!==d-l+1)throw new Error("Number of labels must match the scale range");return n.text=o,n.subText=a,n.min=l,n.max=d,n.labels=y,n.mergeStyles(t.defaultStyles,v),n.addData("text",o),n.addData("subText",a),n.addData("min",l),n.addData("max",d),n.addData("labels",y),n.setInitialResponse(null),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ge(e,t)}(t,e),n=t,r=[{key:"getSelectorForKey",value:function(e){return{root:"",innerContainer:"#".concat(this.id,"-inner-container"),label:".question-label",subText:".question-subtext",scaleContainer:".scale-container",scaleItem:".scale-item",scaleLabel:".scale-label",scaleInput:'input[type="radio"]',scaleNumber:".scale-number",errorMessage:".error-message"}[e]||""}},{key:"generateHTML",value:function(){for(var e=[],t=this.min;t<=this.max;t++){var n=this.labels[t-this.min]||"";e.push('\n                <div class="scale-item">\n                    <span class="scale-label">'.concat(n,'</span>\n                    <label for="').concat(this.id,"-").concat(t,'" class="scale-number">').concat(t,'</label>\n                    <input type="radio" id="').concat(this.id,"-").concat(t,'" name="').concat(this.id,'" value="').concat(t,'">\n                </div>\n            '))}return'\n            <div class="ordered-scale-question" id="'.concat(this.id,'-container">\n                <div id="').concat(this.id,'-inner-container">\n                    <label class="question-label" for="').concat(this.id,"-").concat(this.min,'">').concat(this.text,"</label>\n                    ").concat(this.subText&&'<span class="question-subtext">'.concat(this.subText,"</span>"),'\n                    <div class="scale-container">\n                        ').concat(e.join(""),'\n                    </div>\n                </div>\n                <div id="').concat(this.id,'-error" class="error-message" style="display: none;"></div>\n            </div>\n        ')}},{key:"attachEventListeners",value:function(){var e=document.getElementById("".concat(this.id,"-container"));this.addEventListenerWithTracking(e,"change",this.handleChange.bind(this))}},{key:"handleChange",value:function(e){"radio"===e.target.type&&this.setResponse(parseInt(e.target.value,10))}},{key:"setResponse",value:function(e){Ue(Ye(t.prototype),"setResponse",this).call(this,e,null!==e),this.showValidationError("")}},{key:"validate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=!this.required||null!==this.data.response&&!isNaN(this.data.response);return e&&!t?this.showValidationError("Please select a rating."):this.showValidationError(""),t}}],r&&We(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(P);$e(Je,"styleKeys",["root","innerContainer","label","subText","scaleContainer","scaleItem","scaleLabel","scaleInput","scaleNumber","errorMessage"]),$e(Je,"defaultStyles",{root:{marginBottom:"20px",borderRadius:"5px"},innerContainer:{},label:{display:"block",marginBottom:"5px",fontWeight:"bold",fontSize:"1.1em"},subText:{display:"block",marginBottom:"10px",color:"#6c757d",fontSize:"0.9em"},scaleContainer:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginTop:"10px"},scaleItem:{display:"flex",flexDirection:"column",alignItems:"center",flex:"1 1 0",minWidth:"40px",marginTop:"10px"},scaleLabel:{marginBottom:"5px",fontSize:"0.9em",textAlign:"center",height:"2.5em",display:"flex",alignItems:"center",justifyContent:"center"},scaleInput:{margin:"0"},scaleNumber:{marginBottom:"5px",fontSize:"0.9em"},errorMessage:{color:"#fa5252",fontSize:"0.9em",marginTop:"5px"}});const Ze=Je;function Qe(e){return Qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qe(e)}function et(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function tt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ct(r.key),r)}}function nt(e,t,n){return t=it(t),function(e,t){if(t&&("object"==Qe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,rt()?Reflect.construct(t,n||[],it(e).constructor):t.apply(e,n))}function rt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(rt=function(){return!!e})()}function ot(){return ot="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=it(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},ot.apply(null,arguments)}function it(e){return it=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},it(e)}function at(e,t){return at=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},at(e,t)}function st(e,t,n){return(t=ct(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ct(e){var t=function(e){if("object"!=Qe(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Qe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Qe(t)?t:t+""}var ut=function(e){function t(e){var n,r=e.id,o=e.text,i=e.subText,a=void 0===i?"":i,s=e.minLength,c=void 0===s?0:s,u=e.maxLength,l=void 0===u?1e4:u,f=e.rows,d=void 0===f?2:f,h=e.placeholder,y=void 0===h?"":h,p=e.required,v=void 0===p||p,b=e.includeAlias,m=void 0===b||b,g=e.styles,x=void 0===g?{}:g;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=nt(this,t,[{id:r,type:"open-end",store_data:!0,required:v}]),c<0||l<c)throw new Error("Invalid length constraints");return n.text=o,n.subText=a,n.minLength=c,n.maxLength=l,n.rows=d,n.placeholder=y,n.includeAlias=Boolean(m),n.mergeStyles(t.defaultStyles,x),n.aliasMaxLength=1e4,n.aliasTypingHistory=[],n.aliasStartTime=null,n.aliasTextOverLength=!1,n.addData("text",o),n.addData("subText",a),n.addData("minLength",c),n.addData("maxLength",l),n.addData("includeAlias",n.includeAlias),n.addData("aliasMaxLength",n.aliasMaxLength),n.addData("aliasTypingHistory",n.aliasTypingHistory),n.setInitialResponse(""),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&at(e,t)}(t,e),n=t,r=[{key:"getSelectorForKey",value:function(e){return{root:"",innerContainer:"#".concat(this.id,"-inner-container"),label:"label",subText:".question-subtext",textarea:"textarea",errorMessage:".error-message"}[e]||""}},{key:"generateHTML",value:function(){return'\n            <div class="open-end-question" id="'.concat(this.id,'-container">\n                <div id="').concat(this.id,'-inner-container">\n                    <label for="').concat(this.id,'">').concat(this.text,"</label>\n                    ").concat(this.subText&&'<span class="question-subtext">'.concat(this.subText,"</span>"),'\n                    <textarea \n                        id="').concat(this.id,'" \n                        name="').concat(this.id,'" \n                        minlength="').concat(this.minLength,'" \n                        maxlength="').concat(this.maxLength,'" \n                        placeholder="').concat(this.placeholder,'"\n                        rows="').concat(this.rows,'"\n                        ').concat(this.required?"required":"",'\n                    ></textarea>\n                </div>\n                <div id="').concat(this.id,'-error" class="error-message" style="display: none;"></div>\n            </div>\n        ')}},{key:"attachEventListeners",value:function(){var e=document.getElementById(this.id);this.addEventListenerWithTracking(e,"input",this.handleInput.bind(this)),this.addEventListenerWithTracking(e,"copy",this.handleCopy.bind(this))}},{key:"handleInput",value:function(e){var t=e.target.value;if(this.setResponse(t),this.includeAlias&&!this.aliasTextOverLength){var n={s:t,t:this.initializeAliasStartTime()};this.updateAliasTypingHistory(n)}}},{key:"handleCopy",value:function(e){if(this.includeAlias&&!this.aliasTextOverLength){var t=this.initializeAliasStartTime(),n={s:e.target.value,t,o:"c",ct:window.getSelection().toString()};this.updateAliasTypingHistory(n)}}},{key:"updateAliasTypingHistory",value:function(e){JSON.stringify([].concat(function(e){return function(e){if(Array.isArray(e))return et(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return et(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?et(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(this.aliasTypingHistory),[e])).length>this.aliasMaxLength?this.aliasTextOverLength=!0:this.aliasTypingHistory.push(e)}},{key:"initializeAliasStartTime",value:function(){return this.aliasStartTime?Date.now()-this.aliasStartTime:(this.aliasStartTime=Date.now(),0)}},{key:"setResponse",value:function(e){ot(it(t.prototype),"setResponse",this).call(this,e,""!==e.trim()),this.addData("responseLength",e.length)}},{key:"validate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.data.response||"",n=!0,r="";return this.required&&0===t.trim().length?(n=!1,r="This field is required."):t.length<this.minLength?(n=!1,r="Please enter at least ".concat(this.minLength," characters.")):t.length>this.maxLength&&(n=!1,r="Please enter no more than ".concat(this.maxLength," characters.")),e?this.showValidationError(r):this.showValidationError(""),n}},{key:"destroy",value:function(){this.aliasTypingHistory=[],this.aliasStartTime=null,this.aliasTextOverLength=!1,ot(it(t.prototype),"destroy",this).call(this)}}],r&&tt(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(P);st(ut,"styleKeys",["root","innerContainer","label","subText","textarea","errorMessage"]),st(ut,"defaultStyles",{root:{marginBottom:"20px"},innerContainer:{},label:{display:"block",marginBottom:"5px",fontWeight:"bold",fontSize:"1.1em"},subText:{display:"block",marginBottom:"10px",color:"#6c757d",fontSize:"1.1em"},textarea:{width:"100%",padding:"12px",border:"1px solid #ccc",borderRadius:"4px",resize:"vertical",fontFamily:"Arial, sans-serif",fontSize:"1em",marginBottom:"0px",display:"block"},errorMessage:{marginTop:"5px",color:"#fa5252",fontSize:"0.9em"}});const lt=ut;function ft(e){return ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ft(e)}function dt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function ht(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,xt(r.key),r)}}function yt(e,t,n){return t=bt(t),function(e,t){if(t&&("object"==ft(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,pt()?Reflect.construct(t,n||[],bt(e).constructor):t.apply(e,n))}function pt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(pt=function(){return!!e})()}function vt(){return vt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=bt(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},vt.apply(null,arguments)}function bt(e){return bt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},bt(e)}function mt(e,t){return mt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},mt(e,t)}function gt(e,t,n){return(t=xt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xt(e){var t=function(e){if("object"!=ft(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ft(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ft(t)?t:t+""}var wt=function(e){function t(e){var n,r=e.id,o=e.text,i=e.subText,a=void 0===i?"":i,s=e.options,c=e.required,u=void 0===c||c,l=e.randomize,f=void 0!==l&&l,d=e.styles,h=void 0===d?{}:d;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=yt(this,t,[{id:r,type:"single-select",store_data:!0,required:u}]),!Array.isArray(s)||0===s.length)throw new Error("Options must be a non-empty array");return n.text=o,n.subText=a,n.options=s,n.randomize=Boolean(f),n.mergeStyles(t.defaultStyles,h),n.addData("text",o),n.addData("subText",a),n.addData("options",s),n.addData("randomize",n.randomize),n.setInitialResponse(""),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mt(e,t)}(t,e),n=t,r=[{key:"getSelectorForKey",value:function(e){return{root:"",innerContainer:"#".concat(this.id,"-inner-container"),label:".question-label",subText:".question-subtext",optionsContainer:".options-container",option:".option",radio:'input[type="radio"]',errorMessage:".error-message"}[e]||""}},{key:"generateHTML",value:function(){var e=this,t=(this.randomize?this.shuffleArray(function(e){return function(e){if(Array.isArray(e))return dt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return dt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dt(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(this.options)):this.options).map((function(t,n){return'\n            <div class="option">\n                <input type="radio" id="'.concat(e.id,"-").concat(n,'" name="').concat(e.id,'" value="').concat(t,'">\n                <label for="').concat(e.id,"-").concat(n,'">').concat(t,"</label>\n            </div>\n        ")})).join("");return'\n            <div class="single-select-question" id="'.concat(this.id,'-container">\n                <div id="').concat(this.id,'-inner-container">\n                    <label class="question-label" for="').concat(this.id,'-0">').concat(this.text,"</label>\n                    ").concat(this.subText?'<span class="question-subtext">'.concat(this.subText,"</span>"):"",'\n                    <div class="options-container">\n                        ').concat(t,'\n                    </div>\n                </div>\n                <div id="').concat(this.id,'-error" class="error-message" style="display: none;"></div>\n            </div>\n        ')}},{key:"shuffleArray",value:function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),r=[e[n],e[t]];e[t]=r[0],e[n]=r[1]}return e}},{key:"attachEventListeners",value:function(){var e=document.getElementById("".concat(this.id,"-container"));this.addEventListenerWithTracking(e,"change",this.handleChange.bind(this))}},{key:"handleChange",value:function(e){"radio"===e.target.type&&this.setResponse(e.target.value)}},{key:"setResponse",value:function(e){vt(bt(t.prototype),"setResponse",this).call(this,e,""!==e),this.showValidationError("")}},{key:"validate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=!this.required||this.data.response&&""!==this.data.response;return e&&!t?this.showValidationError("Please select an option."):this.showValidationError(""),t}}],r&&ht(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(P);gt(wt,"styleKeys",["root","innerContainer","label","subText","optionsContainer","option","radio","errorMessage"]),gt(wt,"defaultStyles",{root:{marginBottom:"20px",borderRadius:"5px"},innerContainer:{},label:{display:"block",marginBottom:"5px",fontWeight:"bold",fontSize:"1.1em"},subText:{display:"block",marginBottom:"10px",color:"#6c757d",fontSize:"1.1em"},optionsContainer:{display:"flex",flexDirection:"column"},option:{marginBottom:"5px"},radio:{marginRight:"5px"},errorMessage:{color:"#fa5252",fontSize:"0.9em",marginTop:"5px"}});const St=wt;function Ot(e){return Ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ot(e)}function kt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,zt(r.key),r)}}function jt(e,t,n){return t=Tt(t),function(e,t){if(t&&("object"==Ot(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Pt()?Reflect.construct(t,n||[],Tt(e).constructor):t.apply(e,n))}function Pt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Pt=function(){return!!e})()}function Et(){return Et="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=Tt(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},Et.apply(null,arguments)}function Tt(e){return Tt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Tt(e)}function Bt(e,t){return Bt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Bt(e,t)}function Rt(e,t,n){return(t=zt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zt(e){var t=function(e){if("object"!=Ot(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Ot(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ot(t)?t:t+""}var Lt=function(e){function t(e){var n,r=e.id,o=e.text,i=e.subText,a=void 0===i?"":i,s=e.minLength,c=void 0===s?0:s,u=e.maxLength,l=void 0===u?255:u,f=e.placeholder,d=void 0===f?"":f,h=e.required,y=void 0===h||h,p=e.styles,v=void 0===p?{}:p;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=jt(this,t,[{id:r,type:"text-input",store_data:!0,required:y}]),c<0||l<c)throw new Error("Invalid length constraints");return n.text=o,n.subText=a,n.minLength=c,n.maxLength=l,n.placeholder=d,n.mergeStyles(t.defaultStyles,v),n.addData("text",o),n.addData("subText",a),n.addData("minLength",c),n.addData("maxLength",l),n.setInitialResponse(""),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bt(e,t)}(t,e),n=t,r=[{key:"getSelectorForKey",value:function(e){return{root:"",innerContainer:"#".concat(this.id,"-inner-container"),label:"label",subText:".question-subtext",input:"input",errorMessage:".error-message"}[e]||""}},{key:"generateHTML",value:function(){return'\n            <div class="text-input-question" id="'.concat(this.id,'-container">\n                <div id="').concat(this.id,'-inner-container">\n                    <label for="').concat(this.id,'">').concat(this.text,"</label>\n                    ").concat(this.subText&&'<span class="question-subtext">'.concat(this.subText,"</span>"),'\n                    <input \n                        type="text"\n                        id="').concat(this.id,'" \n                        name="').concat(this.id,'" \n                        minlength="').concat(this.minLength,'" \n                        maxlength="').concat(this.maxLength,'" \n                        placeholder="').concat(this.placeholder,'"\n                        ').concat(this.required?"required":"",'\n                    >\n                </div>\n                <div id="').concat(this.id,'-error" class="error-message" style="display: none;"></div>\n            </div>\n        ')}},{key:"attachEventListeners",value:function(){var e=document.getElementById(this.id);this.addEventListenerWithTracking(e,"input",this.handleInput.bind(this))}},{key:"handleInput",value:function(e){var t=e.target.value;this.setResponse(t)}},{key:"setResponse",value:function(e){Et(Tt(t.prototype),"setResponse",this).call(this,e,""!==e.trim()),this.addData("responseLength",e.length)}},{key:"validate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.data.response||"",n=!0,r="";return this.required&&0===t.trim().length?(n=!1,r="This field is required."):t.length<this.minLength?(n=!1,r="Please enter at least ".concat(this.minLength," characters.")):t.length>this.maxLength&&(n=!1,r="Please enter no more than ".concat(this.maxLength," characters.")),e?this.showValidationError(r):this.showValidationError(""),n}}],r&&kt(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(P);Rt(Lt,"styleKeys",["root","innerContainer","label","subText","input","errorMessage"]),Rt(Lt,"defaultStyles",{root:{marginBottom:"20px"},innerContainer:{},label:{display:"block",marginBottom:"5px",fontWeight:"bold",fontSize:"1.1em"},subText:{display:"block",marginBottom:"10px",color:"#6c757d",fontSize:"1.1em"},input:{width:"100%",padding:"12px",border:"1px solid #ccc",borderRadius:"4px",fontFamily:"Arial, sans-serif",fontSize:"1em",marginBottom:"0px",display:"block"},errorMessage:{marginTop:"5px",color:"#fa5252",fontSize:"0.9em"}});const Ct=Lt;function Mt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Dt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Dt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function _t(e){return _t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_t(e)}function It(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function At(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?It(Object(n),!0).forEach((function(t){Ht(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):It(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ft(r.key),r)}}function Ht(e,t,n){return(t=Ft(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ft(e){var t=function(e){if("object"!=_t(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=_t(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==_t(t)?t:t+""}var Kt=function(){return e=function e(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).styles,n=void 0===t?{}:t;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(this instanceof e?this.constructor:void 0)===e)throw new Error("Plugin is an abstract class and cannot be instantiated directly.");this.styles=this.mergeStyles(this.constructor.defaultStyles,n),this.survey=null},t=[{key:"mergeStyles",value:function(e,t){return this.constructor.styleKeys.reduce((function(n,r){return n[r]=At(At({},e[r]),t[r]),n}),{})}},{key:"generateStylesheet",value:function(){var e=this;return this.constructor.styleKeys.map((function(t){return e.generateStyleForSelector(e.getSelectorForKey(t),e.styles[t])})).join("\n")}},{key:"getSelectorForKey",value:function(e){return""}},{key:"generateStyleForSelector",value:function(e,t){var n=this;if(!t||"object"!==_t(t))return console.warn("Invalid rules for selector ".concat(e)),"";var r=this.rulesToString(t),o="".concat(e," { ").concat(r," }");return Object.entries(t).filter((function(e){var t=Mt(e,2);return t[0],"object"===_t(t[1])})).forEach((function(t){var r=Mt(t,2),i=r[0],a=r[1];i.startsWith("@media")?o+="\n".concat(i," { ").concat(e," { ").concat(n.rulesToString(a)," } }"):i.startsWith("&")&&(o+="\n".concat(e).concat(i.slice(1)," { ").concat(n.rulesToString(a)," }"))})),o}},{key:"rulesToString",value:function(e){var t=this;return Object.entries(e).filter((function(e){var t=Mt(e,2);return t[0],"object"!==_t(t[1])})).map((function(e){var n=Mt(e,2),r=n[0],o=n[1];return"".concat(t.camelToKebab(r),": ").concat(o,";")})).join(" ")}},{key:"camelToKebab",value:function(e){return e.replace(/([a-z0-9]|(?=[A-Z]))([A-Z])/g,"$1-$2").toLowerCase()}},{key:"initialize",value:function(e){if(!e)throw new Error("A survey instance must be provided to initialize the plugin.");this.survey=e}},{key:"beforePageRender",value:function(e){}},{key:"afterPageRender",value:function(e){}},{key:"beforeSurveyFinish",value:function(){}},{key:"destroy",value:function(){this.survey=null}}],t&&qt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function Wt(e){return Wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wt(e)}function Nt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Jt(r.key),r)}}function Vt(e,t,n){return t=Gt(t),function(e,t){if(t&&("object"==Wt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ut()?Reflect.construct(t,n||[],Gt(e).constructor):t.apply(e,n))}function Ut(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ut=function(){return!!e})()}function Yt(){return Yt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=Gt(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},Yt.apply(null,arguments)}function Gt(e){return Gt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Gt(e)}function $t(e,t){return $t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},$t(e,t)}function Xt(e,t,n){return(t=Jt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jt(e){var t=function(e){if("object"!=Wt(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Wt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Wt(t)?t:t+""}Ht(Kt,"styleKeys",["root"]),Ht(Kt,"defaultStyles",{root:{}});var Zt=function(e){function t(e){var n,r=e.maxPages,o=e.currentPage,i=void 0===o?-1:o,a=e.includeProgressText,s=void 0===a||a,c=e.includeProgressBar,u=void 0===c||c,l=e.progressAsPercentage,f=void 0===l||l,d=e.styles,h=void 0===d?{}:d;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=Vt(this,t,[{styles:h}]),"number"!=typeof r||r<=0)throw new Error("maxPages must be a positive number");return n.currentPage=i,n.maxPages=r,n.includeProgressText=Boolean(s),n.includeProgressBar=Boolean(u),n.progressAsPercentage=Boolean(f),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$t(e,t)}(t,e),n=t,r=[{key:"getSelectorForKey",value:function(e){return{root:"#survey-progress",container:"#survey-progress-container",bar:"#survey-progress-bar",text:"#survey-progress-text"}[e]||""}},{key:"initialize",value:function(e){Yt(Gt(t.prototype),"initialize",this).call(this,e);var n=document.getElementById("survey-container");if(!n)throw new Error("Survey container not found");var r=this.generateStylesheet();n.insertAdjacentHTML("afterbegin","\n            <style>".concat(r,'</style>\n            <div id="survey-progress">\n                ').concat(this.includeProgressBar?'<div id="survey-progress-container"><div id="survey-progress-bar"></div></div>':"","\n                ").concat(this.includeProgressText?'<div id="survey-progress-text"></div>':"","\n            </div>\n        ")),this.updateProgress()}},{key:"beforePageRender",value:function(){this.currentPage++,this.updateProgress()}},{key:"updateProgress",value:function(){this.updateProgressBar(),this.updateProgressText()}},{key:"updateProgressBar",value:function(){if(this.includeProgressBar){var e=document.getElementById("survey-progress-bar");if(e){var t=this.currentPage/this.maxPages*100;e.style.width="".concat(t,"%")}else console.warn("Progress bar element not found")}}},{key:"generateProgressText",value:function(){if(this.progressAsPercentage){var e=Math.min(Math.round(this.currentPage/this.maxPages*100),100);return"".concat(e,"%")}var t=Math.min(this.currentPage,this.maxPages+1);return"Page ".concat(t," of ").concat(this.maxPages)}},{key:"updateProgressText",value:function(){if(this.includeProgressText){var e=document.getElementById("survey-progress-text");if(e){var t=this.generateProgressText();e.textContent=t}else console.warn("Progress text element not found")}}},{key:"beforeSurveyFinish",value:function(){this.currentPage=this.maxPages,this.updateProgress()}},{key:"removeProgressBar",value:function(){var e=document.getElementById("survey-progress");e?e.remove():console.warn("Progress bar not found for removal")}},{key:"destroy",value:function(){this.removeProgressBar(),Yt(Gt(t.prototype),"destroy",this).call(this)}}],r&&Nt(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(Kt);Xt(Zt,"styleKeys",["root","container","bar","text"]),Xt(Zt,"defaultStyles",{root:{marginBottom:"30px",display:"flex",alignItems:"center",gap:"15px"},container:{flex:"1",backgroundColor:"#f0f0f0",borderRadius:"5px",overflow:"hidden",height:"18px"},bar:{width:"0",height:"100%",backgroundColor:"#4CAF50",transition:"width 0.3s ease-in-out"},text:{textAlign:"right",padding:"5px 0",fontSize:"14px"}});const Qt=Zt;return t})()));